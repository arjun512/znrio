---
layout: default
title: 一个创业程序员的35岁人生总结09
author: 鞠海深
createdate: 2017/02/26 13:40:25
changedate: 2017/03/04 20:00:32
categories:
tags: 人生经历
keywords: 自主创业,海洋游戏,后端提升,前端优化
description: 怀着满腔“自主创业”的熊熊火焰，我带着老婆和两个兄弟又杀回了上海，在张江租了一个两室一厅火速开工了。当时我们有多少钱呢？我这么多年跟老婆省吃俭用，再加上两次股份置换的现金

---

## 第三次创业 - 自己说了算并不能保障创业成功

怀着满腔“自主创业”的熊熊火焰，我带着老婆和两个兄弟又杀回了上海，在张江租了一个两室一厅火速开工了。当时我们有多少钱呢？我这么多年跟老婆省吃俭用，再加上两次股份置换的现金，满打满算一共就10万。整个研发期，人头也一直只有我们四个，我们三个程序员全身心投入开发，老婆做饭和照顾我们的日常起居。股份怎么分呢？钱是我出的，我占50%吧，两个兄弟一人25%，这样相当于跟团队平分了。当时要做一个什么游戏呢？想来想去，我们团队小，主流RPG肯定做不了，我们必须做一个创新的游戏才有活路，讨论半天，确定下来做一个联机版的大鱼吃小鱼竞技页游。为啥会决定做这么一个东西呢？第一，我手上有大量鱼类和海洋场景的美术素材，第一个失败的创业项目就是跟海洋相关的。第二，这类游戏没见过，只见过养鱼和捕鱼的，说明大家对鱼这个东西还是认可的。养鱼和捕鱼都有了，大鱼吃小鱼不就是等着我们来填补市场空白的么？！然后后端语言用什么呢？JAVA吧，因为JAVA跟AS比较像，而且JAVA的MINA并发框架和数据库框架当时已经很成熟了，前后端通讯协议则用谷歌的Protobuf协议。具体怎么分工呢？我主要搞产品、美术和前后端架构，所有的功能都由两位兄弟搞定，两位兄弟倒是给力，后端上手比我想象的快很多。最后我们三个演变成谁都可以在任意时间写任意功能的代码，完全无缝无等待，整个项目前后端的所有代码，看上去就像一个人写的。

是的，以上就是我自主创业初期想的主要问题。可以看到，大量的都还是从自身角度出发的，考虑的都是我会什么，我要的是什么，我要怎么做。

这段自主创业前期，我收获最大的其实是后端实力的提升，有些搞技术的朋友，尤其是搞后端的朋友可能会笑了：“你一个搞前端的，也好意思说后端实力？”其实我在第一段创业过中，就深度参与了后端，FMS最早也是我研究的，整个项目几年下来碰到的从php到socket再到数据库再到服务器配置的所有致命问题，我都历历在目、切肤之痛过。最后养成了一个职业病，就是碰上牛逼后端就拉着人家一顿请教。后来跑到杭州，针对这些问题，又跟那个牛逼的C++主程交流了很多，看了他们的解决方案。所以其实整个后端的架构，都已经在我心里了，只是一直没机会实践。经过这次实战，一方面，检验了这些想法的靠谱性，彻底解开了我对后端长久以来的很多疑问；另一方面，在以后的项目中，可以让我更好更准确的站在前后端宏观的层面看待整个项目。因为我们项目的特殊性，对及时性要求特别高。大家可以脑补一下，联机版大鱼吃小鱼，当玩家在屏幕上疯狂的甩鼠标控制鱼互相追逐和放各种技能的时候，这个及时性是个啥概念，200毫秒的常规socket网络延时我们完全无法接受。为了解决这个问题，我们几乎差点放弃TCP协议改用UDP协议。但最终通过预判算法、平滑算法等等方式，还算实现了可以接受的效果。但遗憾的是，后来游戏最多也就是做到几百人在线，倒不是服务器挂了，是找不到更多的用户。。。服务器反倒是比预想的稳定，根据经验，新手弄的服务器程序，刚上线一般都会出几次大问题。我们小问题是出了不少，但致命的很少，碰到最大的问题可能就是多线程并发框架的数据同步问题了吧，但很快也就解决了。而且整个服务器IO、连接数、内存、CPU都很稳定。唯一的遗憾就是，服务器没上2000人，服务器的真功夫只有在量起来的时候才能真正展现，而我们没有等到这个机会，实在是太遗憾了。

至于前端，其实真没什么特别明显的提升了，当时FLASH硬件渲染也不是特别成熟，就没敢采用。我们就开始死磕各种技术细节，变态的追求网络、内存、CPU的极限。因为这篇文章不是主要讲技术的，这里就不展开了，就举一个具体例子吧：我们当时做到整个游戏所有前端文件，注意不是代码文件，是包含在web服务器目录下的所有游戏客户端文件，整个压缩成ZIP，还不到10M，但是我们有十几张游戏场景，大量的游戏角色，还有音效、特效、配置文件等等。这里估计有些经验丰富的朋友会质疑，你这是忽悠的吧，一个游戏场景就可能几百K上M了吧？一个角色的全部动作搞不好就上M了吧？甚至一个特效就能上M。我们怎么做的呢？我们全部采用的矢量图。矢量图虽然可以做到非常小，但是在游戏运行的时候，由于所有图形都是CPU及时绘制出来的，CPU就会负担超级重，导致游戏非常卡，为此我们采用了利用游戏各种空闲时间预先实时转换矢量图为位图的方案，当这张图最终被展示的时候，已经是内存里的一张位图了。其实，任何FLASH方面有经验的程序员应该都知道，网络、内存、CPU在FLASH RUNTIME的局促性能瓶颈下，经常是互相矛盾，此消彼长的，像我们极限的优化网络加载速度，就必然要耗费CPU和内存，反之亦然。而且，这个性能要素的博弈关系还是动态的，在游戏进程的不同时刻不一样，比如，在loading的时候，都是希望文件小、加载快，网络要求很高，但CPU和内存占用就不用太考虑，这时候就可以做很多预渲染的事情。所以极限的性能追求，肯定是要跟着业务逻辑动态变化的，要通过代码实时调控的，不存在绝对完美的固定方案。

虽然我当时自主创业当老大了，但我思想觉悟上其实还只是个程序员而已，所以我才会各种追求技术完美，最终因为技术的成熟和无干扰，研发速度也确实比前面两次创业快的多，三个人一年左右就把一个完整的商业级游戏弄出来了，虽然美术特别LOW。这才有了上面两大段文字和吹牛逼的资格，但我马上再问一个问题，就能把这种牛逼瞬间变成傻逼，我们游戏不是做出来了么？问题是：“怎么赚钱呢？”。。。

----

我是：鞠海深，网名：寂寞火山。主要分享技术、产品、互联网、创业、赚钱等个人心得。在订阅号中搜索“ juhaishen ”关注我。

----

最牛推荐:

	“为了这一刻，我整整准备了8年！”
